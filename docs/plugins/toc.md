# افزونه فهرست مطالب (Table of Contents)

افزونه «فهرست مطالب» یا TOC (Table of Contents) به صورت خودکار یک پنل ناوبری شناور در سمت چپ صفحه برای مقالات طولانی ایجاد می‌کند. این افزونه به خوانندگان کمک می‌کند تا به سرعت ساختار محتوا را درک کرده و به بخش مورد نظر خود پرش کنند.

## ویژگی‌های اصلی

-   **ساخت خودکار:** فهرست به صورت پویا از تیترهای (h1, h2, h3, ...) موجود در محتوای صفحه ساخته می‌شود.
-   **هایلایت هوشمند (Scrollspy):** با اسکرول کردن صفحه، بخشی که در حال مشاهده آن هستید به صورت خودکار در فهرست هایلایت می‌شود.
-   **اسکرول نرم (Smooth Scroll):** با کلیک روی هر آیتم در فهرست، صفحه به آرامی به سمت تیتر مربوطه اسکرول می‌شود.
-   **بخش‌های جمع‌شونده:** زیرشاخه‌های فهرست به صورت خودکار قابل باز و بسته شدن هستند تا از شلوغی جلوگیری شود.
-   **طراحی واکنش‌گرا:** این افزونه فقط در صفحات با عرض زیاد (دسکتاپ) نمایش داده می‌شود و در موبایل به صورت خودکار پنهان است.
-   **منطق هوشمند:** اگر یک صفحه کمتر از دو تیتر داشته باشد، فهرست مطالب برای جلوگیری از شلوغی بی‌مورد نمایش داده نخواهد شد.

## فعال‌سازی افزونه

این افزونه به صورت پیش‌فرض در فایل `config/config.js` فعال است. برای فعال یا غیرفعال کردن آن، کافیست مسیر `src/plugins/toc.js` را در آرایه `plugins` نگه دارید یا حذف کنید.

```javascript
// in config/config.js
window.shirazeh = {
  // ...
  plugins: [
    'src/plugins/toc.js' // فعال‌سازی افزونه فهرست مطالب
  ],
  // ...
};
```

## پیکربندی

شما می‌توانید رفتار افزونه فهرست مطالب را از طریق آبجکت `toc` در فایل `config.js` شخصی‌سازی کنید.

```javascript
// in config/config.js
window.shirazeh = {
  // ...
  toc: {
    enabled: true,
    maxDepth: 3,
    title: 'در این صفحه',
  },
  // ...
};
```

### گزینه‌های پیکربندی

-   `enabled`:
    -   **نوع:** `boolean`
    -   **مقدار پیش‌فرض:** `true`
    -   **توضیحات:** با `true` کردن این گزینه، افزونه به طور کامل فعال می‌شود. اگر آن را `false` کنید، حتی در صورت بارگذاری فایل افزونه، هیچ عملکردی نخواهد داشت.

-   `maxDepth`:
    -   **نوع:** `number`
    -   **مقدار پیش‌فرض:** `3`
    -   **توضیحات:** حداکثر عمق تیترهایی که باید در فهرست نمایش داده شوند. برای مثال، مقدار `3` باعث می‌شود تیترهای `<h1>`، `<h2>` و `<h3>` در فهرست قرار گیرند، اما `<h4>` و پایین‌تر نادیده گرفته شوند.

-   `title`:
    -   **نوع:** `string`
    -   **مقدار پیش‌فرض:** `'در این صفحه'`
    -   **توضیحات:** متنی که به عنوان عنوان بالای فهرست مطالب نمایش داده می‌شود.

با تغییر این گزینه‌ها و رفرش کردن صفحه، می‌توانید فهرست مطالب را مطابق با نیازهای وب‌سایت خود تنظیم کنید.
