# افزونه نوار ناوبری (Navbar)

این افزونه یک نوار ناوبری (منوی اصلی) زیبا، واکنش‌گرا و کاملاً قابل پیکربندی در بالای صفحه اضافه می‌کند. این یک راه عالی برای فراهم کردن دسترسی سریع به بخش‌های اصلی وب‌سایت شماست و می‌تواند به عنوان جایگزین یا مکمل منوی کناری (Sidebar) عمل کند.

## ویژگی‌های اصلی

-   **پیکربندی با مارک‌داون:** ساختار منو به سادگی از طریق یک فایل مارک‌داون (`.md`) تعریف می‌شود.
-   **کاملاً واکنش‌گرا:** در دستگاه‌های موبایل، منو به صورت خودکار به یک دکمه همبرگری تبدیل می‌شود.
-   **پشتیبانی از منوی چندسطحی:** به راحتی می‌توانید زیرمنوهای باز شونده (Dropdown) ایجاد کنید.
-   **قابلیت چسبندگی (Sticky):** می‌توانید نوار را طوری تنظیم کنید که هنگام اسکرول، به بالای صفحه بچسبد.
-   **رفتارهای هوشمند هنگام اسکرول:** نوار ناوبری می‌تواند هنگام اسکرول کاربر کوچک شود (`shrink`) یا به صورت هوشمند پنهان و ظاهر شود (`hide`).
-   **شخصی‌سازی پیشرفته:** از طریق فایل `config.js` می‌توانید همه چیز را، از ارتفاع و رنگ‌ها گرفته تا نمایش لوگو و نام برنامه، کنترل کنید.
-   **سینتکس غنی:** پشتیبانی از دکمه‌های فراخوان (CTA)، نشان‌ها (Badges)، جداکننده‌ها و آیکون‌های سفارشی.

## فعال‌سازی افزونه

برای فعال کردن این افزونه، مسیر آن را به لیست `plugins` در فایل `config.js` اضافه کنید:

```javascript
// in config/config.js
window.shirazeh = {
  // ...
  plugins: [
    'src/plugins/navbar/navbar.js', // <-- این خط
    // ... سایر افزونه‌ها
  ],
  // ...
};
```

## پیکربندی در `config.js`

تمام تنظیمات این افزونه از طریق آبجکت `navbar` در فایل `config.js` انجام می‌شود.

```javascript
// in config/config.js
window.shirazeh = {
  // ...
  navbar: {
    enabled: true,
    source: 'config/navbar.md',
    sticky: true,
    scrollBehavior: 'shrink', // 'shrink' | 'hide' | 'normal'
    height: '64px',
    heightScrolled: '56px',
    logo: {
      show: true,
      src: null, // null = use from global config.logo.src
      size: '32px',
    },
    appName: {
      show: true,
      text: null, // null = use from global config.appName
    },
    mobile: {
      breakpoint: '768px',
    },
  },
  // ...
};
```

### گزینه‌های پیکربندی

-   `enabled`: (`boolean`, پیش‌فرض: `true`) افزونه را فعال یا غیرفعال می‌کند.
-   `source`: (`string`, پیش‌فرض: `'config/navbar.md'`) مسیر فایل مارک‌داونی که ساختار منو را تعریف می‌کند.
-   `sticky`: (`boolean`, پیش‌فرض: `true`) اگر `true` باشد، نوار هنگام اسکرول به بالای صفحه می‌چسبد.
-   `scrollBehavior`: (`string`, پیش‌فرض: `'shrink'`) رفتار نوار هنگام اسکرول را مشخص می‌کند:
    -   `'shrink'`: ارتفاع نوار کم می‌شود.
    -   `'hide'`: هنگام اسکرول به پایین مخفی و هنگام اسکرول به بالا ظاهر می‌شود.
    -   `'normal'`: ارتفاع ثابت باقی می‌ماند.
-   `height`: (`string`, پیش‌فرض: `'64px'`) ارتفاع عادی نوار.
-   `heightScrolled`: (`string`, پیش‌فرض: `'56px'`) ارتفاع نوار پس از اسکرول (فقط در حالت `shrink`).
-   `logo`: (`object`) تنظیمات مربوط به لوگوی داخل نوار.
    -   `show`: (`boolean`) آیا لوگو نمایش داده شود؟
    -   `src`: (`string` | `null`) مسیر فایل لوگو. اگر `null` باشد، از مقدار `config.logo.src` اصلی استفاده می‌کند.
    -   `size`: (`string`) اندازه لوگو.
-   `appName`: (`object`) تنظیمات مربوط به نام برنامه داخل نوار.
    -   `show`: (`boolean`) آیا نام برنامه نمایش داده شود؟
    -   `text`: (`string` | `null`) متن نام برنامه. اگر `null` باشد، از مقدار `config.appName` اصلی استفاده می‌کند.
-   `mobile`: (`object`) تنظیمات مربوط به حالت موبایل.
    -   `breakpoint`: (`string`, پیش‌فرض: `'768px'`) عرضی که در آن نوار به حالت موبایل (همبرگری) تغییر می‌کند.

## پیکربندی ساختار منو در `navbar.md`

قلب تپنده این افزونه، فایل مارک‌داون آن است. در ادامه، سینتکس‌های ویژه‌ای که می‌توانید استفاده کنید، توضیح داده شده است.

### ۱. موقعیت‌یابی (`position`)

شما می‌توانید آیتم‌های منو را در سه بخش چپ، وسط و راست قرار دهید.

```markdown
{.position: left}
- [لوگو و نام]

{.position: center}
- [آیتم‌های اصلی]

{.position: right}
- [لینک‌های خارجی]
```
> **نکته:** در حالت راست‌چین (RTL)، موقعیت `left` در سمت راست صفحه و `right` در سمت چپ صفحه نمایش داده می‌شود.

### ۲. منوی تو در تو (Dropdown)

برای ایجاد زیرمنو، کافیست یک لیست تو در تو (با تورفتگی) ایجاد کنید.

```markdown
- [مستندات](/docs)
  - [شروع سریع](/docs/start)
  - [نصب](/docs/install)
```

### ۳. دکمه فراخوان (CTA Button)

برای متمایز کردن یک لینک به عنوان یک دکمه اصلی (Call to Action)، از `{.cta}` استفاده کنید.

```markdown
- [دانلود کنید](/download) {.cta}
```

### ۴. نشان (Badge)

برای اضافه کردن یک نشان کوچک در کنار یک آیتم، از `{.badge: TEXT}` استفاده کنید.

```markdown
- [ویژگی جدید](/new) {.badge: جدید}
```

### ۵. جداکننده (Divider)

برای ایجاد یک خط عمودی جداکننده بین آیتم‌ها، از یک آیتم لیست با محتوای `---` استفاده کنید.

```markdown
- [آیتم اول](/one)
- ---
- [آیتم دوم](/two)
```

### ۶. استفاده از HTML و آیکون

شما می‌توانید مستقیماً از تگ‌های HTML (مانند SVG یا `<i>` برای آیکون‌ها) در متن لینک استفاده کنید.

```markdown
- [<svg>...</svg> گیت‌هاب](https://github.com)
- [<i class="icon-home"></i> خانه](/)
```

### مثال کامل برای `navbar.md`

```markdown
<!-- بخش چپ برای برندینگ -->
{.position: left}

<!-- بخش مرکزی برای لینک‌های اصلی -->
{.position: center}
- [خانه](/)
- [مستندات](/docs/gettingStarted)
  - [شروع سریع](/docs/gettingStarted)
  - [پیکربندی](/docs/configuration)
  - [نوشتن محتوا](/docs/writingContent)
- [افزونه‌ها](/docs/plugins) {.badge: جدید}

<!-- بخش راست برای لینک‌های جانبی -->
{.position: right}
- [گیت‌هاب](https://github.com/barnevis/shirazeh)
- ---
- [دانلود](/download) {.cta}
```
