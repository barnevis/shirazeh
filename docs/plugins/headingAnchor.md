# افزونه لینک عناوین (Heading Anchor)

این افزونه یک قابلیت استاندارد و بسیار کاربردی را به وب‌سایت شما اضافه می‌کند: امکان کپی کردن لینک مستقیم به هر بخش از محتوای شما. این کار با افزودن یک آیکون قابل کلیک در کنار عناوین صفحه (مانند `<h2>`, `<h3>` و ...) انجام می‌شود.

## ویژگی‌های اصلی

-   **ID خودکار:** اگر یک عنوان `id` نداشته باشد، افزونه به صورت خودکار یک `id` خوانا و منحصر به فرد از متن آن عنوان تولید می‌کند (مثلاً "راهنمای شروع" به `راهنمای-شروع` تبدیل می‌شود).
-   **نمایش هوشمند:** آیکون لینک به صورت پیش‌فرض پنهان است و تنها زمانی که کاربر ماوس را روی عنوان می‌برد، نمایش داده می‌شود تا از شلوغی بصری جلوگیری شود.
-   **کپی آسان:** با کلیک روی آیکون، URL کامل صفحه به همراه انکر (`#`) مربوط به آن عنوان، در کلیپ‌بورد کاربر کپی می‌شود.
-   **بازخورد فوری:** پس از کپی موفق، یک پیام کوتاه (Tooltip) در پایین صفحه نمایش داده می‌شود تا کاربر از انجام عملیات مطمئن شود.
-   **سازگاری کامل با فارسی:** `id` ها به درستی از متن فارسی ساخته می‌شوند و آیکون لینک در موقعیت صحیح (سمت چپ عنوان) برای چیدمان راست-به-چپ قرار می‌گیرد.
-   **مدیریت `id` های تکراری:** اگر دو عنوان با متن یکسان در یک صفحه وجود داشته باشد، افزونه به صورت خودکار به `id` های بعدی یک شماره اضافه می‌کند (مثلاً `راهنمای-شروع-2`).

## فعال‌سازی افزونه

برای فعال کردن این افزونه، ابتدا مسیر آن را به لیست `plugins` در فایل `config.js` اضافه کنید:

```javascript
// in config/config.js
window.shirazeh = {
  // ...
  plugins: [
    // ... سایر افزونه‌ها
    'src/plugins/headingAnchor/headingAnchor.js'
  ],
  // ...
};
```

سپس، می‌توانید بخش `headingAnchor` را در همان فایل برای شخصی‌سازی بیشتر، پیکربندی کنید.

## پیکربندی

تمام تنظیمات این افزونه از طریق آبجکت `headingAnchor` در فایل `config.js` انجام می‌شود.

```javascript
// in config/config.js
window.shirazeh = {
  // ...
  headingAnchor: {
    enabled: true,
    levels: [2, 3, 4, 5, 6],
    icon: '#',
    successMessage: 'پیوند رونوشت شد',
    messageDuration: 2000,
  },
  // ...
};
```

### گزینه‌های پیکربندی

-   `enabled`:
    -   **نوع:** `boolean`
    -   **مقدار پیش‌فرض:** `true`
    -   **توضیحات:** با `true` کردن این گزینه، افزونه فعال می‌شود.

-   `levels`:
    -   **نوع:** `Array<number>`
    -   **مقدار پیش‌فرض:** `[2, 3, 4, 5, 6]`
    -   **توضیحات:** آرایه‌ای از سطوح عناوینی که می‌خواهید لینک به آن‌ها اضافه شود. به صورت پیش‌فرض، به `<h1>` لینک اضافه نمی‌شود، زیرا معمولاً به عنوان عنوان اصلی صفحه در نظر گرفته می‌شود.

-   `icon`:
    -   **نوع:** `string`
    -   **مقدار پیش‌فرض:** `'#'`
    -   **توضیحات:** کاراکتر، ایموجی یا حتی کد SVG که به عنوان آیکون لینک نمایش داده می‌شود.

-   `successMessage`:
    -   **نوع:** `string`
    -   **مقدار پیش‌فرض:** `'پیوند رونوشت شد'`
    -   **توضیحات:** متنی که پس از کپی موفق لینک در پیام بازخورد نمایش داده می‌شود.

-   `messageDuration`:
    -   **نوع:** `number`
    -   **مقدار پیش‌فرض:** `2000`
    -   **توضیحات:** مدت زمانی (به میلی‌ثانیه) که پیام بازخورد روی صفحه باقی می‌ماند.
